---
title:Microsoft平滑流
description:Microsoft平滑流（MSS）是一組技術，可以將視頻和音頻內容流傳輸到諸如Microsoft的Silverlight，XBox 360，Windows Phone 7和某些連接的電視平台之類的平台。多比特率平滑流式處理支持內容的自適應流式傳輸，以允許對播放期間可用帶寬的變化進行即時補償。
parent: Encoding Guides 
---

<section class="bcls-article">
  <h1>{{ page.title }}</h1>
  <summary>{{ page.description }}</summary>

  <section class="bcls-section">
    <h2 id="Overview">概述</h2>

    <p>要利用MSS，您的視頻和音頻需要以特殊的分段格式編碼，此外還必須生成包含文件信息的客戶端和服務器清單。Zencoder可以為單比特率和多比特率的平滑流生成所有必要的文件。</p>
  </section>

  <section class="bcls-section">
    <h2 id="basic_request">基本要求</h2>

    <p>使用Zencoder可以輕鬆創建流暢的視頻流。只需要設置幾個選項就可以為單比特率編碼創建必要的文件。</p>

    <pre class="line-numbers">
<code class="language-json" translate="No">{
    "api_key": "asdf1234",
    "input": "s3://my-input-bucket/input-file.mp4",
    "outputs": [
    {
        "audio_bitrate": 56,
        "audio_sample_rate": 22050,
        "url": "s3://my-bucket/medium/file.ism",
        "decoder_bitrate_cap": 900,
        "decoder_buffer_size": 2400,
        "max_frame_rate": 30,
        "segment_seconds": 2,
        "type": "segmented",
        "video_bitrate": 600,
        "width": 400,
        "format": "ism"
    }
    ]
}</code></pre>

    <p>上述API請求的相關部分是“類型"，“格式"和“URL"選項。</p>

    <ul>
      <li>“type"應為“細分"</li>
      <li>“格式"應為“主義"</li>
      <li>“url"應具有“ism"的擴展名</li>
    </ul>

    <p>用Smooth Streaming的說法，“ism"文件是Smooth Streaming服務器清單。但是，這不是唯一會生成的文件。在與“ism"文件相同的目錄中，我們還將創建“ismc"文件（也稱為“平滑流客戶端清單"）和“ismv"文件（即已編碼的視頻）。
      <!-- If the created file is audio-only, it will end in "isma" instead of "ismv". -->
    </p>
  </section>

  <section class="bcls-section">
    <h2 id="Full_request">完整要求</h2>

    <p>使用Zencoder創建多比特率的平滑流作業不需要在API請求中做更多的事情，只需輸出不同傳輸速度的輸出以及引用它們的播放列表即可。</p>

    <pre class="line-numbers">
<code class="language-json" translate="No">{
    "api_key": "asdf1234",
    "input": "s3://my-input-bucket/input-file.mp4",
    "outputs": [
    {
        "type": "playlist",
        "format": "ism",
        "url": "s3://my-output-bucket/file.ism",
        "streams": [
        {
            "source": "low-output",
            "path": "low/file.ismv"
        },
        {
            "source": "medium-output",
            "path": "medium/file.ismv"
        },
        {
            "source": "high-output",
            "path": "high/file.ismv"
        }
        ]
    },
    {
        "label": "low-output",
        "audio_bitrate": 56,
        "audio_sample_rate": 22050,
        "url": "s3://my-bucket/low/file.ism",
        "decoder_bitrate_cap": 165,
        "decoder_buffer_size": 440,
        "max_frame_rate": 30,
        "segment_seconds": 2,
        "public": 1,
        "type": "segmented",
        "video_bitrate": 110,
        "width": 320,
        "format": "ism"
    },
    {
        "label": "medium-output",
        "audio_bitrate": 56,
        "audio_sample_rate": 22050,
        "url": "s3://my-bucket/medium/file.ism",
        "decoder_bitrate_cap": 600,
        "decoder_buffer_size": 1600,
        "max_frame_rate": 30,
        "segment_seconds": 2,
        "public": 1,
        "type": "segmented",
        "video_bitrate": 400,
        "width": 400,
        "format": "ism"
    },
    {
        "label": "high-output",
        "audio_bitrate": 56,
        "audio_sample_rate": 22050,
        "url": "s3://my-bucket/high/file.ism",
        "decoder_bitrate_cap": 900,
        "decoder_buffer_size": 2400,
        "max_frame_rate": 30,
        "segment_seconds": 2,
        "public": 1,
        "type": "segmented",
        "video_bitrate": 600,
        "width": 400,
        "format": "ism"
    }
    ]
}</code></pre>

    <p>單個單比特率平滑流輸出（標記為“低輸出"，“中輸出"和“高輸出"）與上一個示例請求中的輸出相似，並且可以根據需要單獨播放。重要的區別是第一個輸出，該輸出創建引用視頻的播放列表。播放視頻的設備將使用此播放列表，根據可用帶寬來確定要加載的適當文件。</p>

    <p>播放列表需要注意的相關部分是：</p>

    <ul>
      <li><code translate="No">type</code>應該是“播放列表"</li>
      <li><code translate="No">format</code>應該是“主義"</li>
      <li><code translate="No">url</code>應該擴展“主義"</li>
      <li><code translate="No">streams</code>應該是一個JSON對像數組，每個對像都有鍵“source"和“path"
        <ul>
          <li><code translate="No">source</code>應該是用於給定流的輸出的標籤</li>
          <li><code translate="No">path</code>應該是“源"輸出的“ismv"或“isma"文件的相對路徑，因為它將由您的服務器提供</li>
        </ul>
      </li>
    </ul>

    <p>多比特率平滑流播放列表及其視頻必須在單個Zencoder作業中創建，不能在單獨的作業中創建，也不能在其他作業中創建視頻後創建。為了生成多比特率的“平滑流式"清單，需要視頻及其清單中的某些信息。這包括來自單比特率平滑流輸出的客戶端清單以及到單比特率視頻或音頻文件的相對路徑，因為它們將從其最終目的地提供。分段輸出完成轉碼後，將使用其客戶端清單生成多比特率的平滑流清單，並將其放置在“url"指定的位置。</p>
  </section>

  <section class="bcls-section">
    <h2 id="Requirements">需求</h2>

    <p>需要IIS平滑流服務器才能將平滑流文件傳送到播放器。本指南<a href="http://www.iis.net/learn/media/on-demand-smooth-streaming/getting-started-with-iis-smooth-streaming">IIS平滑流入門</a>是開始設置IIS平滑流服務器的好地方。</p>
  </section>

</section>