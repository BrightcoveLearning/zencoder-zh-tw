---
title:支持的HDR視頻格式
description:本主題提供有關 Zencoder 對高動態範圍 (HDR) 視頻格式的支持的詳細信息。
parent: Encoding Guides
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>

  <section class="bcls-section">
    <h2 id="Overview">概述</h2>

    <p>術語高動態範圍 (HDR) 視頻通常是指 <em>視頻格式系列</em>，其特點是通過像素值、特定類型的電光傳輸特性 (OETF)、色彩空間以及與編碼視頻流一起攜帶的專用元數據來實現更廣泛的顏色和亮度。此類格式通常用於UltraHD視頻內容的生產和交付。</p>

    <aside class="bcls-aside bcls-aside--warning language-editable">筆記：HDR 輸出只能從 HEVC (H.265) 源生成。不支持來自 H.264 源的 HDR 輸出。</aside>

    <p>有關HDR視頻的更多信息，請參見<a href="https://www.videomaker.com/how-to/technology/what-is-hdr-video/">什麼是HDR視頻？</a>和<a href="https://en.wikipedia.org/wiki/High-dynamic-range_video">高動態範圍視頻</a>。</p>

    <p>下表列出了Zencoder當前支持的特定類型的HDR視頻格式。</p>
    <table class="bcls-table">
      <caption class="bcls-caption--table">支持HDR格式</caption>
      <thead class="bcls-table__head">
        <tr>
          <th>HDR格式</th>
          <th>像素深度</th>
          <th>像素範圍</th>
          <th>原色</th>
          <th>色彩空間</th>
          <th>OETF</th>
          <th>掌握顯示元數據</th>
          <th>內容亮度級元數據</th>
          <th>動態元數據</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td>HLG10 <sup><strong><a href="#note1-1">[1-1]</a></strong></sup></td>
          <td>10</td>
          <td>有限的</td>
          <td>BT.2020 <sup><strong><a href="#note1-4">[1-4]</a></strong></sup></td>
          <td>Y'C'<sub>B</sub>C'<sub>R</sub> <sup><strong><a href="#note1-5">[1-5]</a></strong></sup></td>
          <td>HLG <sup><strong><a href="#note1-7">[1-7]</a></strong></sup></td>
          <td></td>
          <td></td>
          <td></td>
        </tr>
        <tr>
          <td>PQ10 <sup><strong><a href="#note1-1">[1-1]</a></strong></sup></td>
          <td>10</td>
          <td>有限的</td>
          <td>BT.2020 <sup><strong><a href="#note1-4">[1-4]</a></strong></sup></td>
          <td>Y'C'<sub>B</sub>C'<sub>R</sub> <sup><strong><a href="#note1-5">[1-5]</a></strong></sup></td>
          <td>PQ <sup><strong><a href="#note1-8">[1-8]</a></strong></sup></td>
          <td></td>
          <td></td>
          <td></td>
        </tr>
        <tr>
          <td>HDR10 <sup><strong><a href="#note1-1">[1-1]</a></strong></sup></td>
          <td>10</td>
          <td>有限的</td>
          <td>BT.2020 <sup><strong><a href="#note1-4">[1-4]</a></strong></sup></td>
          <td>Y'C'<sub>B</sub>C'<sub>R</sub> <sup><strong><a href="#note1-5">[1-5]</a></strong></sup></td>
          <td>PQ <sup><strong><a href="#note1-8">[1-8]</a></strong></sup></td>
          <td>SMPTE 2086 <sup><strong><a href="#note1-9">[1-9]</a></strong></sup></td>
          <td>CAE 861.3 <sup><strong><a href="#note1-10">[1-10]</a></strong></sup></td>
          <td></td>
        </tr>
        <tr>
          <td>杜比視界8.1 <sup><strong><a href="#note1-2">[1-2]</a></strong></sup></td>
          <td>10</td>
          <td>有限的</td>
          <td>BT.2020 <sup><strong><a href="#note1-4">[1-4]</a></strong></sup></td>
          <td>Y'C'<sub>B</sub>C'<sub>R</sub> <sup><strong><a href="#note1-5">[1-5]</a></strong></sup></td>
          <td>PQ <sup><strong><a href="#note1-8">[1-8]</a></strong></sup></td>
          <td>SMPTE 2086 <sup><strong><a href="#note1-9">[1-9]</a></strong></sup></td>
          <td>CAE 861.3 <sup><strong><a href="#note1-10">[1-10]</a></strong></sup></td>
          <td>SMPTE 2094-10 <sup><strong><a href="#note1-11">[1-11]</a></strong></sup></td>
        </tr>
        <tr>
          <td>杜比視界5 <sup><strong><a href="#note1-3">[1-3]</a></strong></sup></td>
          <td>10</td>
          <td>滿的</td>
          <td>BT.2020 <sup><strong><a href="#note1-4">[1-4]</a></strong></sup></td>
          <td>我知道了<sub>噸</sub>C<sub>p</sub> <sup><strong><a href="#note1-6">[1-6]</a></strong></sup></td>
          <td>PQ <sup><strong><a href="#note1-8">[1-8]</a></strong></sup></td>
          <td></td>
          <td></td>
          <td>SMPTE 2094-10 <sup><strong><a href="#note1-11">[1-11]</a></strong></sup></td>
        </tr>
    </table>
    <h3>注意事項</h3>
    <ul>
      <li id="note1-1"><sup><strong>[1-1]</strong></sup> HLG10、PQ10 和 HDR10 是指由<a href="https://ultrahdforum.org/guidelines/">超高清論壇指南</a></li>
      <li id="note1-2"><sup><strong>[1-2]</strong></sup> DolbyVision 8.1 是指 DolbyVision Profile 8，信號兼容性 ID 為 1，由<a href="https://www.dolby.com/us/en/technologies/dolby-vision/dolby-vision-profiles-levels.pdf">DolbyVision 配置文件和級別</a>規格</li>
      <li id="note1-3"><sup><strong>[1-3]</strong></sup> DolbyVision 5 是指 DolbyVision Profile 5，由<a href="https://www.dolby.com/us/en/technologies/dolby-vision/dolby-vision-profiles-levels.pdf">DolbyVision 配置文件和級別</a>規格</li>
      <li id="note1-4"><sup><strong>[1-4]</strong></sup> BT.2020 指的是由以下定義的比色系統<a href="https://www.itu.int/rec/R-REC-BT.2020/en">ITU-R 建議書BT.2020</a></li>
      <li id="note1-5"><sup><strong>[1-5]</strong></sup> Y'C'<sub>B</sub>C'<sub>R</sub> 指的是 Y'C'<sub>B</sub>C'<sub>R</sub> 由以下定義的非恆定亮度顏色空間<a href="https://www.itu.int/rec/R-REC-BT.2020/en">ITU-R 建議書BT.2020</a></li>
      <li id="note1-6"><sup><strong>[1-6]</strong></sup> 我知道了<sub>噸</sub>C<sub>p</sub> 指IC<sub>噸</sub>C<sub>p</sub> 顏色空間定義為<a href="https://www.itu.int/rec/R-REC-BT.2100/en">ITU-R 建議書BT.2100</a></li>
      <li id="note1-7"><sup><strong>[1-7]</strong></sup> HLG 是指由以下定義的混合對數伽瑪 (HLG) 傳遞函數<a href="https://www.itu.int/rec/R-REC-BT.2100/en">ITU-R 建議書BT.2100</a></li>
      <li id="note1-8"><sup><strong>[1-8]</strong></sup> PQ 是指由以下定義的感知量化器 (PQ) 傳遞函數<a href="https://www.itu.int/rec/R-REC-BT.2100/en">ITU-R 建議書BT.2100</a></li>
      <li id="note1-9"><sup><strong>[1-9]</strong></sup> SMPTE 2086 是指由定義的主顯示特性<a href="https://ieeexplore.ieee.org/document/8353899">SMPTE ST 2086</a></li>
      <li id="note1-10"><sup><strong>[1-10]</strong></sup> CAE 861.3 是指由定義的內容光級參數<a href="https://standards.cta.tech/apps/group_public/project/details.php?project_id=185">CAE 861.3</a></li>
      <li id="note1-11"><sup><strong>[1-11]</strong></sup> SMPTE 2094-10 是指由定義的 DolbyVision 動態元數據<a href="https://ieeexplore.ieee.org/document/7513370">SMPTE ST 2094-10</a></li>
    </ul>
    <p>可在以下文檔中找到有關在視頻編解碼器比特流，容器格式以及DASH和HLS流傳輸系統中傳輸此類格式的詳細信息：
    <ul>
      <li><a href="https://www.itu.int/rec/T-REC-H.265">HEVC標準</a></li>
      <li><a href="https://ultrahdforum.org/guidelines/">UltraHD論壇指南</a></li>
      <li><a href="https://www.dolby.com/us/en/technologies/dolby-vision/dolby-vision-profiles-levels.pdf">杜比視界（DolbyVision）配置文件和級別</a></li>
      <li><a href="https://developer.apple.com/documentation/http_live_streaming/hls_authoring_specification_for_apple_devices">適用於Apple設備的HLS創作準則</a></li>
      <li><a href="https://dashif.org/docs/DASH-IF-IOP-v4.0-clean.pdf">實施準則：DASH-IF互操作性點</a></li>
      <li><a href="https://cdn.cta.tech/cta/media/media/resources/standards/pdfs/cta-5001-b-final_v2.pdf">CTA-5001-B：Web應用程序視頻生態系統：內容規格</a></li>
    </ul>
    </p>
  </section>
  <section class="bcls-section">
    <h2 id="supported_operations">支持的運營</h2>
    <p>Zencoder 目前僅執行 <em>直接轉碼操作</em> HDR 格式的視頻。也就是說，如果輸入視頻經過顏色分級並以特定的HDR格式編碼，則相同的顏色分級和與HDR格式相關的元數據將保留在輸出中。</p>
    <p>當前不支持不同類型的HDR格式之間的轉換或標準動態範圍（SDR）和HDR格式之間的轉換。原則上，HDR格式之間的轉換是不平凡的操作，可能會影響藝術意圖和/或引入可見的偽像。由於這些原因，我們建議您在後期製作中進行此類轉換操作。</p>
    <p>目前，以HDR格式對視頻進行編碼需要使用HEVC視頻編解碼器，並在Main10配置文件中運行，並使用10位像素。必須為所有HDR輸出定義此類編解碼器，配置文件和位深度參數。目前不支持將其他編解碼器/配置文件/位深度與HDR格式一起使用。</p>
    <p>以DolbyVision格式對視頻進行編碼還需要使用ISOBMFF（MP4）容器格式進行輸出。當前不支持將其他容器格式與DolbyVision一起使用。</p>
    <p>通過使用生成的靜態和動態輸出均支持Zencoder中的HDR格式編碼<a href="https://zencoder.support.brightcove.com/encoding-guides/cae-guide.html">Brightcove上下文感知編碼（CAE）</a>技術。CAE技術的使用可實現更有效的編碼，因此建議<a href="https://ultrahdforum.org/guidelines/">UltraHD論壇指南</a>用於UltraHD / HDR內容的編碼。 </p>
  </section>
  <section class="bcls-section">
    <h2 id="requirements">輸入文件的要求</h2>

    <p>輸入的視頻文件應該是高質量的母帶或中間字母，帶有適當的顏色漸變的HDR視覺內容，並提供描述所用HDR格式所需的所有必要元數據。</p>
    <p>此類文件的示例可能是：</p>
    <ul>
      <li>符合HLG10，PQ10和HDR10的視頻流，使用HEVC編解碼器編碼，並在此類流中攜帶所有必要的HDR信息</li>
      <li>後期製作的幀內編碼夾層（例如，OP1a MXF中的Apple ProRes 4444，Avid DNxHD或JPEG 2000（J2K）），以及有關正在使用的HDR格式類型和任何其他元數據的附加信息（例如，主顯示和內容亮度）元數據）來描述它</li>
      <li>HEVC編碼的DolbyVision流，以及帶有相關動態元數據的“RPU"文件。</li>
    </ul>
  </section>
  <section class="bcls-section">
    <h2 id="specifying_hdr_format_parameters">指定HDR格式參數</h2>

    <p>如果輸入夾層包含與HDR格式關聯的所有元數據，則可以通過使用<a href="/encoding-settings/formats-codecs/encoding-settings-hdr10.html#preserve_hdr_metadata"><code translate="No">preserve_hdr_metadata</code></a>範圍。</p>
    <p>下面的示例說明了此方法：</p>
    <pre class="line-numbers"><code class="language-json" translate="No">{ 
  "input": "s3://mybucket/hdr_master.mp4", 
  "outputs": [ 
    { 
     "video_codec": "hevc", 
     "video_codec_profile": "main10", 
     "video_bit_depth": 10,
     "preserve_hdr_metadata": true
    } 
  ] 
}</code></pre>
    <p>此方法應適用於HEVC編碼的HDR10，PQ10和HLG10夾層。</p>
    <p>如果輸入夾層不能準確描述HDR格式或僅包含部分信息，則應使用HDR格式參數的明確說明。</p>
    <p>在這種情況下，Zencoder應該收到<a href="/encoding-settings/formats-codecs/encoding-settings-hdr10.html#hdr_format"><code translate="No">hdr_format</code></a>參數，描述使用的HDR格式的確切類型，以及傳遞關聯元數據可能需要的幾個其他參數。下表列出了可能的值<a href="/encoding-settings/formats-codecs/encoding-settings-hdr10.html#hdr_format"><code translate="No">hdr_format</code></a>參數和必須指定的其他參數。</p>
    <table class="bcls-table">
      <caption class="bcls-caption--table">hdr_format細節</caption>
      <thead class="bcls-table__head">
        <tr>
          <th rowspan="2">HDR格式</th>
          <th colspan="4">Zencoder API參數/值</th>
        </tr>
        <tr>
        <td style="white-space: nowrap;padding: .3rem;"><a href="/encoding-settings/formats-codecs/encoding-settings-hdr10.html#hdr_format"><code translate="No">hdr_format</code></a></td>
        <td style="white-space: nowrap;padding: .3rem;"><a href="/encoding-settings/formats-codecs/encoding-settings-hdr10.html#master_display"><code translate="No">master_display</code></a></td>
        <td style="padding: .3rem;"><a href="/encoding-settings/formats-codecs/encoding-settings-hdr10.html#max_content_light_level"><code translate="No">max_content_light_level</code></a>，<a href="/encoding-settings/formats-codecs/encoding-settings-hdr10.html#max_frame_average_light_level"><code translate="No">max_frame_average_light_level</code></a></td>
        <td style="white-space: nowrap;padding: .3rem;"><a href="/encoding-settings/formats-codecs/encoding-settings-hdr10.html#dolby_vision_rpu_url"><code translate="No">dolby_vision_rpu_url</code></a></td>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td>HLG10</td>
          <td><code translate="No">hlg</code></td>
          <td></td>
          <td></td>
          <td></td>
        </tr>
        <tr>
          <td>PQ10</td>
          <td><code translate="No">pq</code></td>
          <td></td>
          <td></td>
          <td></td>
        </tr>
        <tr>
          <td>HDR10</td>
          <td><code translate="No">hdr10</code></td>
          <td>必需的</td>
          <td>必需的</td>
          <td></td>
        </tr>
        <tr>
          <td>杜比視界8.1</td>
          <td><code translate="No">dv8.1</code></td>
          <td>必需的</td>
          <td>必需的</td>
          <td>必需的</td>
        </tr>
        <tr>
          <td>杜比視界5</td>
          <td><code translate="No">dv5</code></td>
          <td></td>
          <td></td>
          <td>必需的</td>
        </tr>
      </tbody>
    </table>

    <p>例如，使用<a href="/encoding-settings/formats-codecs/encoding-settings-hdr10.html#master_display"><code translate="No">master_display</code></a>和<a href="/encoding-settings/formats-codecs/encoding-settings-hdr10.html#max_content_light_level">內容亮度</a>可以使用以下命令來執行外部通信的元數據參數：</p>
<pre class="line-numbers"><code class="language-json" translate="No">{
  "input": "s3://mybucket/prores_hdr_master.mov",
  "outputs": [
    {
      "video_codec": "hevc", 
      "video_codec_profile": "main10", 
      "video_bit_depth": 10,
      "hdr_format": "hdr10",
      "master_display": {
        "red": {"x": 0.708, "y": 0.292},
        "green": {"x": 0.17, "y": 0.797},
        "blue": {"x": 0.131, "y": 0.046},
        "white_point": {"x": 0.31273,"y": 0.329},
        "luminance": {"max": 1000,"min": 0.0001}
      },
      "max_content_light_level": 1000,
      "max_frame_average_light_level": 180
    }
  ]
}
</code></pre>
    <p>當使用編解碼器（例如Apple ProRes 4444，Avid DNxHD或OP1a MXF中的JPEG 2000（J2K）等）與後期製作的夾層金屬一起使用時，此方法是合適的。</p>
    <p>同樣，在對DolbyVision內容進行代碼轉換時，與DolbyVision內容相關聯的動態元數據（“RPU"文件）可以通過使用以下方式進行外部通信：<a href="/encoding-settings/formats-codecs/encoding-settings-hdr10.html#dolby_vision_rpu_url"><code translate="No">dolby_vision_rpu_url</code></a>範圍：</p>
<pre class="line-numbers"><code class="language-json" translate="No">{ 
  "input": "s3://mybucket/dv5_master.mp4", 
  "outputs": [ 
    { 
     "video_codec": "hevc", 
     "video_codec_profile": "main10", 
     "video_bit_depth": 10,
     "video_color_range": "full",
     "hdr_format": "dv5",
     "dolby_vision_rpu_url": "s3://mubucket/dv5_master_rpu.rpu"
    } 
  ] 
}</code></pre>
  </section>
  <section class="bcls-section">
    <h2 id="specifying_hdr_format_parameters_with_cae">使用CAE指定HDR格式參數</h2>
    <p>
      使用時<a href="/encoding-guides/cae-guide.html">Brightcove上下文感知編碼（CAE）</a>技術，所有與編解碼器和HDR格式相關的參數都可以指定為
      <ul>
        <li>標記為的輸出參數<a href="/encoding-settings/general/encoding-settings-general-output-settings.html#dynamic_profile_rendition"><code translate="No">dynamic_profile_rendition</code></a>， 或者</li>
        <li>的參數<a href="/encoding-settings/general/encoding-settings-job.html#dynamic_profile_options"><code translate="No">dynamic_profile_options</code></a>目的</li>
      </ul>
    </p>
    <p>第二種方法更緊湊，更可取。下面提供了說明使用第二種方法的示例：</p>
<pre class="line-numbers"><code class="language-json" translate="No">{ 
  "input": "s3://mybucket/hdr_master.mp4", 
  "generate_dynamic_profile": true,
  "dynamic_profile_options": 
  {
    "max_renditions": 6,
    "video_codec": "hevc", 
    "video_codec_profile": "main10", 
    "video_bit_depth": 10,
    "preserve_hdr_metadata": true,
  }
  "outputs": [ 
    {"dynamic_profile_rendition": 1}, 
    {"dynamic_profile_rendition": 2}, 
    {"dynamic_profile_rendition": 3}, 
    {"dynamic_profile_rendition": 4}, 
    {"dynamic_profile_rendition": 5}, 
    {"dynamic_profile_rendition": 6} 
  ] 
}</code></pre>
  </section>
</article>