---
title: iOS/移動編碼指南
description:本主題討論為移動設備編碼視頻的方法。
parent: Encoding Guides
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>

  <section class="bcls-section">
    <h2 id="Overview">概述</h2>

    <p>首先是壞消息。那裡有數百種移動設備，基本上不可能支持其中的100.0％。</p>

    <p>好消息是移動設備正在變得越來越好。176x144 3GP成為移動視頻的代名詞的日子已經一去不復返了。現代智能手機實際上可以播放高質量的視頻，並且智能手機的使用正在增加。這並不是說3GP已經結束，或者每個人都擁有智能手機。但是，智能手機的使用正在增長（<a href="http://www.canalys.com/pr/2010/r2010081.html">年化率64％</a>截至2010年第2季度），而且智能手機用戶比使用笨拙的手機的朋友更喜歡在手機上觀看視頻，這不足為奇。</p>

    <p>因此，如果您想支持90％以上的移動設備，則至少需要兩種視頻類型：3GP + MPEG-4用於不太複雜的設備，H.264 + MP4用於智能手機。</p>

    <p>確實，這是個好消息。<strong>一部輸出視頻可以覆蓋您所有的智能手機用戶</strong>– iPhone / iPad / iPod，Android和（大多數情況下）Blackberry。在PSP，PS3和Xbox 360中折騰很好。</p>

    <p>當然，雖然一個通用的智能手機輸出可以照顧大多數智能手機用戶，但您可以使用多個移動輸出做得更好。例如，iPad的原始分辨率為1024x768，是早期iPhone的480x320的五倍。因此，如果您以480x320的分辨率對視頻進行編碼，那麼您將錯過iPad的近高清功能。</p>

    <p>幸運的是，您可以使用一些標準的編碼配置文件很好地定位移動設備。從通用智能手機配置文件開始，以獲得廣泛的兼容性；為更高級的設備添加高級智能手機配置文件版本；並使用舊版配置文件為您的移動列表提供最全面的兼容性，以實現最廣泛的兼容性-我們的舊版智能手機配置文件（如下所示），或者甚至是3GP視頻，以實現更廣泛的兼容性。</p>

    <p>請注意，以下默認值是這些配置文件的起點。<a href="http://zencoder.com">Zencoder</a>默認情況下會使用這些設置，但是您可以在使用的任何編碼工具中輕鬆複製它們。</p>

    <p>默認值：</p>

    <p>視頻：H.264，3.0 級，基線配置文件<br />
      聲音的：AAC，1-2個頻道</p>
  </section>
  <section class="bcls-section">
    <h2 id="universal-a">通用智能手機配置文件</h2>

    <p>這是與現代智能手機廣泛兼容的理想起點。儘管沒有充分利用最新設備上的高分辨率和編解碼器複雜性，但幾乎可以在所有設備上播放。</p>

    <h3>播放：</h3>

    <p><strong>iOS：</strong>iPhone、iPad、Apple TV、iPod Touch、iPod Classic、iPod 5.5G<br /><strong>黑莓：</strong>Bold 9000、Curve 8910、8900、8520、Pearl 9XXX、Storm、Storm 2、Torch、Tour、Bold 9650 + 9700<br /><strong>安卓：</strong>全部 （？）<br /><strong>其他：</strong>PSP（3.30 +），PS3，Xbox 360，Web，Palm Pre <a href="#general-notes"> *</a></p>

    <h3>無法播放：</h3>

    <p>iPod 5G，PSP（3.30之前），Blackberry Curve 9330、9300、8530、83XX，Pearl 8XXX，88XX</p>

    <h3>設定值：</h3>

    <pre class="line-numbers">
<code class="language-json" translate="No">{
    "input": "s3://bucket-name/file-name.avi",
    "outputs": [
        {
            "url": "s3://output-bucket/output-file-name.mp4",
            "audio_bitrate": 128,
            "audio_sample_rate": 44100,
            "height": 320,
            "width": 480,
            "max_frame_rate": 30,
            "video_bitrate": 1500,
            "h264_level": 3
        }
    ]
}</code></pre>
  </section>
  <section class="bcls-section">
    <h2 id="universal-b">通用智能手機配置文件v2</h2>

    <p>通過提高視頻分辨率，此配置文件在iPhone 4，iPad，Apple TV，新的iPod Touch，Droid，PS3和Xbox上的播放效果更好。不過，多餘的像素浪費在較舊的iPhone上，導致無法在Blackberry和某些Android手機上播放的視頻。</p>

    <h3>播放：</h3>

    <p>上面的一切，減去Blackberry，也許是較弱的Android設備</p>

    <h3>設定值：</h3>

    <p>與通用智能手機配置文件（如上所述）相同，但尺寸為640x480</p>

    <pre class="line-numbers">
<code class="language-json" translate="No">{
    "input": "s3://bucket-name/file-name.avi",
    "outputs": [
        {
            "url": "s3://output-bucket/output-file-name.mp4",
            "audio_bitrate": 128,
            "audio_sample_rate": 44100,
            "height": 480,
            "width": 640,
            "max_frame_rate": 30,
            "video_bitrate": 1500,
            "h264_level": 3
        }
    ]
}</code></pre>
  </section>
  <section class="bcls-section">
    <h2 id="advanced-a">進階智慧型手機設定檔</h2>

    <p>較新的iOS設備可實現更高的分辨率和更高的編碼複雜度（這意味著更好的壓縮）。特別是，iPad和Apple TV用戶不必在漂亮的屏幕上觀看480x320的視頻，因此，如果您想為這些用戶提供良好的體驗，則提供更高質量的版本是有意義的。</p>

    <h3>播放：</h3>

    <p><strong>iOS：</strong>iPhone 4、iPad、Apple TV*、較新的 iPod Touch<br /><strong>安卓：</strong>Nexus One，Droid，也許還有其他人。（儘管如此，YMMV還是這樣。一些用戶報告 720p 視頻有問題。）<br /><strong>其他：</strong>PS3，網絡</p>

    <h3>無法播放：</h3>

    <p><strong>IOS：</strong> iPod 5G/5.5G/Classic、iPhone 3GS 及更早機型、舊款 iPod Touch PSP、舊款 Apple TV*<br /><strong>黑莓：</strong>全部<br /><strong>安卓：</strong>其他<br /><strong>其他：</strong>PSP，PS3，Xbox 360，網絡</p>

    <h3>設定值：</h3>

    <p>請注意，這是最大大小。對於本機iPhone 4分辨率，將尺寸設置為960x640</p>

    <pre class="line-numbers">
<code class="language-json" translate="No">{
    "input": "s3://bucket-name/file-name.avi",
    "outputs": [
    {
        "url": "s3://output-bucket/output-file-name.mp4",
        "audio_bitrate": 160,
        "audio_sample_rate": 48000,
        "height": 720,
        "width": 1280,
        "max_frame_rate": 30,
        "video_bitrate": 5000,
        "h264_profile": "main",
        "h264_level": 3.1
    }
    ]
}
</code></pre>
  </section>
  <section class="bcls-section">
    <h2 id="advanced-b">高級智能手機配置文件v2</h2>

    <p>要支持較早的Apple TV設備，請使用“高級智能手機配置文件"設置以及以下選項之一：</p>

    <h3>設定值：</h3>

    <p>進階智慧型手機設定檔（上方），以及下列其中一項：</p>

    <p><code translate="No">size: 960x540</code></p>

    <p>或者</p>

    <p><code translate="No">max_frame_rate: 24</code></p>
  </section>
  <section class="bcls-section">
    <h2 id="legacy-smartphone">舊版智能手機配置文件</h2>

    <p>此配置文件可在基於H.264的最後一組主要移動設備上播放：值得注意的是，較舊的iPod和某些Blackberry。權衡是明顯較小的視頻：320x240，不超過768kbps。</p>

    <p>較舊的iPhone / iPod設備要求提供“H.264基線低複雜度"配置文件。“低複雜度"實際上不是H.264標準-實際上僅表示“僅1個參考幀"。到底有多少Apple設備真正執行此操作尚待確定，但為實現真正的兼容性，您可能應該使用Baseline配置文件並將參考幀限制為1。您可以使用<a href="/encoding-settings/formats-codecs/encoding-settings-h264.html#h264-reference-frames">h264_reference_frames</a>環境。</p>

    <h3>播放：</h3>

    <p><strong>以上所有內容，再加上</strong>：iPod 5G，PSP（3.30之前的版本），Blackberry Curve 9330、9300、8530、83XX，Pearl 8XXX，88XX，Palm Pre <a href="#general-notes"> *</a></p>

    <h3>設定值：</h3>

    <pre class="line-numbers">
<code class="language-json" translate="No">{
    "input": "s3://bucket-name/file-name.avi",
    "outputs": [
    {
        "url": "s3://output-bucket/output-file-name.mp4",
        "audio_bitrate": 128,
        "audio_sample_rate": 44100,
        "height": 240,
        "width": 320,
        "max_frame_rate": 30,
        "video_bitrate": 768,
        "h264_level": 1.3
    }
    ]
}</code></pre>
  </section>
  <section class="bcls-section">
    <h2 id="legacy-3gp">舊版3GP配置文件</h2>

    <p>最後，一個或三個3GP配置文件將擴展對許多剩餘移動設備的支持。</p>

    <p>值得注意的是，您可以在“舊版智能手機配置文件"下的上述支持的大多數相同設備上使用這些設備。因此，如果您要以320x240編碼3GP視頻，則可能不需要以320x240編碼另一個H.264視頻。</p>

    <p><strong>筆記</strong></p>

    <ul>
      <li>這些視頻看起來很糟糕，但這就是支持3GP手機的成本。</li>
      <li>為了將3GP視頻作為RTMP流傳遞，需要對其進行“提示"。放<a href="/encoding-settings/formats-codecs/encoding-settings-mp4.html#hint">暗示</a>至<code translate="No">true</code>在您的API請求中啟用它。</li>
    </ul>
    <h3>播放：</h3>

    <p><strong>很難說。</strong>3GP設備有數千種，每種設備都有點不同。考慮這些是一個起點。</p>

    <h3 id="legacy-3gp-a">資料A</h3>

    <div class="docs-code">
      <pre class="line-numbers">
<code class="language-json" translate="No">{
    "input": "s3://bucket-name/file-name.avi",
    "outputs": [
    {
        "url": "s3://output-bucket/output-file-name.mp4",
        "format": "3gp",
        "aspect_mode": "pad",
        "frame_rate": 15,
        "upscale": true,
        "height": 240,
        "width": 320,
        "video_bitrate": 192,
        "decoder_bitrate_cap": 192,
        "audio_bitrate": 24,
        "audio_channels": 1,
        "audio_sample_rate": 16000
    }
    ]
}</code></pre>

      <h3 id="legacy-3gp-b">配置文件B</h3>

      <pre class="line-numbers">
<code class="language-json" translate="No">{
    "input": "s3://bucket-name/file-name.avi",
    "outputs": [
    {
        "url": "s3://output-bucket/output-file-name.mp4",
        "format": "3gp",
        "video_codec": "mpeg4",
        "height": 144,
        "width": 176,
        "aspect_mode": "pad",
        "frame_rate": 5,
        "upscale": true,
        "video_bitrate": 52,
        "decoder_bitrate_cap": 58,
        "decoder_buffer_size": 16,
        "audio_bitrate": 16,
        "audio_channels": 1,
        "audio_sample_rate": 16000
    }
    ]
}</code></pre>

      <section class="bcls-section">
        <h2 id="summary">概括</h2>

        <p>如果要創建移動視頻，請從通用智能手機配置文件開始。為了獲得更好的質量，請在“高級智能手機配置文件"視頻中對此進行補充。為了獲得更大的兼容性，請使用MP4或3GP添加一兩個傳統的配置文件。就是這樣它只需要1-3個配置文件即可支持大多數移動設備。</p>
      </section>
    </div>
  </section>
</article>