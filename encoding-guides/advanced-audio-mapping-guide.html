---
title:音頻映射指南
description:本主題介紹了多個音軌的音頻映射選項。
parent: Encoding Guides
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>

  <section class="bcls-section">
    <h2 id="Introduction">簡介</h2>

    <p>編輯系統通常會輸出包含多個音軌的視頻文件-用於環繞聲音頻，檔案或多語言方案。使用Zencoder，可以將包含多個音頻軌道的輸入文件映射或混合到輸出上的單個音頻軌道。例如，這些選項可以組合以將來自輸入文件的6個離散的單聲道PCM音頻軌道映射到輸出上的單個5.1環繞聲音頻軌道。</p>

    <p>本指南介紹了兩個選項：<code translate="No">input_audio_channels</code>和<code translate="No">output_audio_channels</code>，可用於控制如何將輸入文件中的音軌和聲道映射到輸出文件中。</p>

    <h3>支持的輸入音頻通道</h3>

    <p>支持導入以下音頻通道：</p>

    <ul>
      <li>佛羅里達州</li>
      <li>阻燃劑</li>
      <li>足球俱樂部</li>
      <li>LFE</li>
      <li>BL</li>
      <li>BR</li>
      <li>Lt（FL矩陣）</li>
      <li>Rt（FR矩陣）</li>
    </ul>
  </section>
  <section class="bcls-section">
    <h2 id="Multiple_outputs_from_source_multiple_tracks">從具有多個音軌的來源創建多個輸出</h2>
    <p>一個相當普遍的用例是使源視頻具有多個音軌，並且您要輸出多個音頻文件，每個文件都具有一個音軌。這是為此配置輸出的最佳方法：</p>
<pre class="line-numbers"><code class="language-json" translate="No">outputs: [
  {
  label: "Output 1",
  url: "your hosting server for outputs/output1.mp4",
  skip_video: true,
  "input_audio_service_types":{"1": "main"},
  "select_audio_service_type": "main"
  },
  {
  label: "Output 2",
  url: "your hosting server for outputs/output2.mp4",
  skip_video: true,
  "input_audio_service_types":{"2": "main"},
  "select_audio_service_type": "main"
  },
  {
  label: "Output 3",
  url: "your hosting server for outputs/output3.mp4",
  skip_video: true,
  "input_audio_service_types":{"3": "main"},
  "select_audio_service_type": "main"
  } ... </code></pre>
  </section>
  <section class="bcls-section">
    <h2 id="Audio_mapping_options">音頻映射選項</h2>

    <ul>
      <li><strong><a href="/encoding-settings/general-audio-video/encoding-settings-audio.html#input_audio_channels">input_audio_channels</a></strong>：設置輸入音頻軌道到通道的佈局。</li>
      <li><strong><a href="/encoding-settings/general-audio-video/encoding-settings-audio.html#output_audio_channels">output_audio_channels</a></strong>：設置輸出音頻通道佈局。</li>
    </ul>
    <p>這<code translate="No">input_audio_channels</code>選項可以通過給它們指定通道名稱來標記輸入文件中的各個音軌或通道，例如<code translate="No">FL</code>用於5.1環繞聲軌中的“左前"聲道。下面的示例演示如何使用此選項將6個單獨的音頻軌道映射到單個5.1環繞聲軌道。</p>

    <p>通過設置<code translate="No">output_audio_channels</code>選項，可以自定義輸出音軌的通道佈局。如果未設置，則使用音頻編解碼器的默認排列。</p>

    <p>這<code translate="No">output_audio_channels</code>選項可以通過兩種方式使用：在其中創建所有頻道的混音<code translate="No">input_audio_channels</code>，或使用音頻聲道重新映射到自定義輸出聲道佈局來創建輸出，而不進行任何混合。Zencoder可以從多聲道或環繞聲輸入音頻軌道生成立體聲或單聲道混音。要創建混音輸出，請將此選項設置為<strong>1個</strong>（對於單聲道）或<strong>2個</strong>（用於立體聲）。要創建自定義頻道佈局，請將此選項設置為在<code translate="No">input_audio_channels</code>選項。有關更多信息，請參見下面的示例。</p>

    <p>Zencoder當前支持<strong>單核細胞增多症</strong>，<strong>立體聲</strong>， 和<strong>5.1聲道</strong>輸出音頻。</p>

    <p>立體聲混音可以通過使用以下兩種方法從環繞聲音頻中生成<code translate="No">input_audio_channels</code>和<code translate="No">output_audio_channels</code>選項。通過設置<code translate="No">output_audio_channels</code>到2，可以創建立體聲混音。</p>
  </section>
  <section class="bcls-section">
    <h2 id="Example_Settings">範例設定</h2>
  </section>
  <h3>5.1來自多個單聲道的環繞聲軌道</h3>

  <p>本示例將單個音軌映射到命名通道<code translate="No">FL, FR, FC, LFE, BL, BR</code>並根據映射創建單個5.1環繞聲軌道。</p>

  <pre class="line-numbers">
<code class="language-json" translate="No">{
  "input": "s3://zencodertesting/test-multitrack-audio.mov",
  "output": {
    "input_audio_channels": {
      "FL": 1,
      "FR": 2,
      "FC": 3,
      "LFE": 4,
      "BL": 5,
      "BR": 6
    }
  }
}</code></pre>

  <h3>來自映射的5.1環繞聲軌道的立體聲混音</h3>

  <p>下面的示例顯示瞭如何從上面的示例中創建的5.1環繞聲軌創建立體聲混音。</p>

  <pre class="line-numbers">
<code class="language-json" translate="No">{
  "input": "s3://zencodertesting/test-multitrack-audio.mov",
  "output": {
    "input_audio_channels": {
      "FL": 1,
      "FR": 2,
      "FC": 3,
      "LFE": 4,
      "BL": 5,
      "BR": 6
    },
    "output_audio_channels": 2
  }
}</code></pre>

  <h3>自定義音頻通道佈局</h3>

  <p>這<code translate="No">output_audio_channels</code>除了創建混音，該選項還可以用於創建自定義渠道佈局。下面的示例將從左前和右前聲道創建立體聲輸出，但是順序互換，因此左聲道在右聲道，反之亦然。</p>

  <pre class="line-numbers">
<code class="language-json" translate="No">{
  "input": "s3://zencodertesting/test-multitrack-audio.mov",
  "output": {
    "input_audio_channels": {
      "FL": 1,
      "FR": 2,
      "FC": 3,
      "LFE": 4,
      "BL": 5,
      "BR": 6
    },
    "output_audio_channels": ["FR", "FL"]
  }
}</code></pre>

  <h3>支持多種語言</h3>

  <p>通過使用<code translate="No">input_audio_channels</code>如果輸入包含多個語言軌道，則可以創建多個輸出，每個輸出具有單獨的語言軌道。假設一個輸入文件具有4個離散音頻軌道，並且軌道1包含英語（左）音頻，軌道2包含英語（右）音頻，軌道3包含西班牙語（左）音頻，軌道4包含西班牙語（右）聲音的。通過定義<code translate="No">input_audio_channels</code>每個輸出的參數不同，可以從單個文件創建多個語言輸出。</p>

  <pre class="line-numbers">
<code class="language-json" translate="No">{
  "input": "s3://zencodertesting/test-multitrack-audio.mov",
  "outputs": [
    {
      "label": "english",
      "input_audio_channels": {
        "FL": 1,
        "FR": 2
      }
    },
    {
      "label": "spanish",
      "input_audio_channels": {
        "FL": 3,
        "FR": 4
      }
    }
  ]
}</code></pre>

  <h3>自定義渠道映射</h3>

  <p>下面的示例顯示瞭如何從媒體文件中提取現有的立體聲降混，其中第一個音軌既包含5.1環繞聲混音，又包含立體聲降混（立體聲對）。</p>

  <pre class="line-numbers">
<code class="language-json" translate="No">{
  "input": "s3://zencodertesting/test-multichannel-audio.mov",
  "output": {
    "input_audio_channels": {
      "FL": "1:7",
      "FR": "1:8"
    },
    "output_audio_channels": 2
  }
}</code></pre>
</article>