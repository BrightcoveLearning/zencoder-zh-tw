---
title:S3設置
description:本主題包含與 S3 設置相關的編碼設置的詳細信息。
parent: Sources/Destination Settings 
grandparent: Encoding Settings
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>
  <section class="bcls-section">
    <h2 id="public">公開</h2>
    <code translate="No">public:Boolean</code>

    <p><strong>API版本：</strong>V1，V2</p>

    <p><strong>父母：</strong><a href="/encoding-settings/general/encoding-settings-job.html#outputs">輸出</a>或者<a href="/encoding-settings/assets/encoding-settings-thumbnails.html#thumbnails">縮圖</a></p>

    <p><strong>默認：</strong>錯誤的</p>

    <p><strong>有效值：</strong>對或錯</p>

    <p><strong>兼容的工作類型：</strong>全部</p>

    <p><strong>描述：</strong></p>

    <p>默認情況下，放入S3存儲桶的文件是不公開可讀的。相反，我們使用以下的固定訪問策略<a href="http://docs.amazonwebservices.com/AmazonS3/latest/index.html?RESTAccessPolicy.html">桶所有者完全控制</a>。即使存儲桶本身是公共可讀的，也是如此-S3存儲桶策略不會被添加到存儲桶的新文件自動繼承。</p>

    <p>使用<strong>上市</strong> API設置，以將輸出到S3的文件標記為公開可讀。這是通過向AllUsers組授予READ權限來完成的。</p>

    <p>此設置適用於輸出視頻文件和輸出縮略圖。默認情況下，在輸出文件上設置的權限也適用於縮略圖。環境<a href="#access-control">訪問控制</a>將覆蓋此設置。</p>

    <p>手動權限的替代方法是使用<a href="http://awspolicygen.s3.amazonaws.com/policygen.html">桶政策</a>。</p>

    <p><a href="http://docs.amazonwebservices.com/AmazonS3/latest/dev/">更多信息</a>來自Amazon S3文檔。</p>

    <pre class="line-numbers">
<code class="language-json" translate="No">{
  "input": "s3://zencodertesting/test.mov",
  "outputs": [
    {
      "public": true,
      "thumbnails": {
        "number": 6,
        "public": false
      }
    }
  ]
}</code></pre>

    <p><strong>也可以看看：</strong><a href="#access-control">訪問控制</a>和<a href="/encoding-settings/assets/encoding-settings-thumbnails.html#thumbnails">縮圖</a></p>
  </section>
  <section class="bcls-section">
    <h2 id="rrs">RRS</h2>
    <code translate="No">rrs:Boolean</code>

    <p><strong>API版本：</strong>V1，V2</p>

    <p><strong>上級：</strong><a href="/encoding-settings/general/encoding-settings-job.html#outputs">輸出</a></p>

    <p><strong>默認：</strong>錯誤的</p>

    <p><strong>有效值：</strong>對或錯</p>

    <p><strong>兼容的工作類型：</strong>全部</p>

    <p><strong>例子：</strong>真的</p>

    <p><strong>描述：</strong></p>

    <p>如果您使用Amazon S3的精簡冗餘存儲，則可以設置此標誌，並且Zencoder將傳遞必要的標頭以告知S3使用RRS。</p>

    <pre class="line-numbers">
<code class="language-json" translate="No">{
  "input": "s3://zencodertesting/test.mov",
  "outputs": [
    {
      "rrs": true
    }
  ]
}</code></pre>
  </section>
  <section class="bcls-section">
    <h2 id="access_control">存取控制</h2>
    <code translate="No">access_control:Array</code>

    <p><strong>API版本：</strong>V1，V2</p>

    <p><strong>父母：</strong><a href="/encoding-settings/general/encoding-settings-job.html#outputs">輸出</a>或者<a href="/encoding-settings/assets/encoding-settings-thumbnails.html#thumbnails">縮圖</a></p>

    <p><strong>有效值：</strong>包含兩個設置的哈希數組：被授予者和權限。</p>

    <p><strong>兼容的工作類型：</strong>全部</p>

    <p><strong>描述：</strong></p>

    <p>這<a href="#public">上市</a>選項將給定視頻或縮略圖的S3 READ訪問權授予所有用戶。如果您想要更細粒度的控制，請使用<strong>訪問控制</strong>。使用此設置將導致<a href="#public">上市</a>選項被忽略。此設置適用於輸出視頻文件和輸出縮略圖。默認情況下，在輸出文件上設置的權限也適用於縮略圖。</p>

    <p>access_control採用一組訪問控制授權，每個授權都有兩個設置：<a href="#grantee">受贈人</a>和<a href="#permission">允許</a>。</p>

    <p>手動權限的替代方法是使用<a href="http://awspolicygen.s3.amazonaws.com/policygen.html">桶政策</a>。</p>

    <pre class="line-numbers">
<code class="language-json" translate="No">{
  "input": "s3://zencodertesting/test.mov",
  "outputs": [
    {
      "access_control": [
        {
          "permission": "READ",
          "grantee": "someone@example.com"
        }
      ]
    }
  ]
}</code></pre>

    <p><strong>也可以看看：</strong><a href="#public">上市</a>，<a href="#grantee">受贈人</a>， 和<a href="#permission">允許</a></p>
  </section>
  <section class="bcls-section">
    <h2 id="grantee">受讓人</h2>
    <code translate="No">grantee:String</code>

    <p><strong>API版本：</strong>V1，V2</p>

    <p><strong>父母：</strong><a href="/encoding-settings/general/encoding-settings-job.html#outputs">輸出</a> / <a href="#access-control">訪問控制</a>或者<a href="/encoding-settings/general/encoding-settings-job.html#outputs">輸出</a> / <a href="/encoding-settings/assets/encoding-settings-thumbnails.html#thumbnails">縮圖</a> / <a href="/encoding-settings/assets/encoding-settings-thumbnails.html#thumbnails-access-control">訪問控制</a></p>

    <p><strong>有效值：</strong>有效的S3受贈方（電子郵件，ID或URI）</p>

    <p><strong>兼容的工作類型：</strong>全部</p>

    <p><strong>描述：</strong></p>

    <p>S3權限的被授予者：用戶通過電子郵件地址，用戶通過CanonicalUser ID或AWS訪問組（http://acs.amazonaws.com/groups/global/AuthenticatedUsers或http://acs.amazonaws.com/groups/全局/ AllUsers）。見<a href="http://aws.amazon.com/documentation/s3/">S3 ACL文檔</a>有關更多詳細信息。</p>

    <p>用作<a href="#access-control">訪問控制</a>設置以獲取細粒度的S3權限。</p>

    <pre class="line-numbers">
<code class="language-json" translate="No">{
  "input": "s3://zencodertesting/test.mov",
  "outputs": [
    {
      "access_control": [
        {
          "permission": [
            "READ",
            "READ_ACP"
          ],
          "grantee": "someone@example.com"
        },
        {
          "permission": "FULL_CONTROL",
          "grantee": "cdc7931a9574b1055d5b76112021d0e9"
        },
        {
          "permission": "READ",
          "grantee": "http://acs.amazonaws.com/groups/global/AllUsers"
        },
        {
          "permission": "WRITE_ACP",
          "grantee": "http://acs.amazonaws.com/groups/global/AuthenticatedUsers"
        }
      ]
    }
  ]
}</code></pre>

    <p><strong>也可以看看：</strong><a href="#access-control">訪問控制</a>和<a href="#permission">允許</a></p>
  </section>
  <section class="bcls-section">
    <h2 id="permission">允許</h2>
    <code translate="No">permission:String</code>

    <p><strong>API版本：</strong>V1，V2</p>

    <p><strong>父母：</strong><a href="/encoding-settings/general/encoding-settings-job.html#outputs">輸出</a> / <a href="#access-control">訪問控制</a>或者<a href="/encoding-settings/general/encoding-settings-job.html#outputs">輸出</a> / <a href="/encoding-settings/assets/encoding-settings-thumbnails.html#thumbnails">縮圖</a> / <a href="/encoding-settings/assets/encoding-settings-thumbnails.html#thumbnails-access-control">訪問控制</a></p>

    <p><strong>有效值：</strong>包含以下內容的字符串或字符串數組：READ，READ_ACP，WRITE_ACP或FULL_CONTROL</p>

    <p><strong>兼容的工作類型：</strong>全部</p>

    <p><strong>描述：</strong></p>

    <p>授予S3權限被授予者的權限。見<a href="http://aws.amazon.com/documentation/s3/">S3 ACL文檔</a>有關更多詳細信息。</p>

    <ul>
      <li>讀取-讀取文件的權限。</li>
      <li>READ_ACP-讀取給定文件的訪問控制策略的權限。</li>
      <li>WRITE_ACP-寫入給定文件的訪問控制策略的權限。等效於FULL_CONTROL，因為具有WRITE_ACP的用戶可以更改文件的ACP。</li>
      <li>FULL_CONTROL-向文件授予READ，READ_ACP和WRITE_ACP權限。</li>
    </ul>
    <p>用作<a href="#access-control">訪問控制</a>設置以獲取細粒度的S3權限。</p>

    <pre class="line-numbers">
<code class="language-json" translate="No">{
  "input": "s3://zencodertesting/test.mov",
  "outputs": [
    {
      "access_control": [
        {
          "permission": [
            "READ",
            "READ_ACP"
          ],
          "grantee": "someone@example.com"
        },
        {
          "permission": "FULL_CONTROL",
          "grantee": "cdc7931a9574b1055d5b76112021d0e9"
        },
        {
          "permission": "READ_ACP",
          "grantee": "http://acs.amazonaws.com/groups/global/AllUsers"
        },
        {
          "permission": "WRITE_ACP",
          "grantee": "http://acs.amazonaws.com/groups/global/AuthenticatedUsers"
        }
      ]
    }
  ]
}</code></pre>

    <p><strong>也可以看看：</strong><a href="#access-control">訪問控制</a>和<a href="#grantee">受贈人</a></p>
  </section>
</article>