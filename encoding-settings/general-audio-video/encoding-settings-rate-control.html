---
title:速率控制設置
description:本主題包含與編碼率控制相關的編碼設置的詳細信息，這些設置對輸出質量很重要。
parent: Audio/Video Settings 
grandparent: Encoding Settings
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>

  <section class="bcls-section">
    <h2 id="quality" translate="No">品質</h2>
    <code translate="No">quality:Integer</code>

    <p><strong>API版本：</strong>V1，V2</p>

    <p><strong>上級：</strong><a translate="No" href="/encoding-settings/general/encoding-settings-job.html#outputs">輸出</a></p>

    <p><strong>默認：</strong>3</p>

    <p><strong>有效值：</strong>1-5</p>

    <p><strong>兼容的工作類型：</strong>全部</p>

    <p><strong>例子：</strong>4</p>

    <p><strong>描述：</strong></p>

    <p>所需的輸出視頻質量，從1到5。自動選擇video_bitrate以達到此質量。</p>

    <p>這將自動選擇可產生所需質量視頻的視頻比特率。這很有用，因為由於內容的複雜性，分辨率等原因，一個視頻可能需要比另一個視頻更高的比特率才能達到目標視覺質量。</p>

    <aside class="bcls-aside bcls-aside--information">請注意，如果<code translate="No">quality</code>和<code translate="No">video_bitrate</code>被設置，<code translate="No">video_bitrate</code>設置將被忽略。</aside>
    <p>更高的質量意味著更高的比特率，反之亦然。</p>

    <p>質量1：高度壓縮。平庸的視覺質量，但文件很小。<br />
      質量2：可接受的質量。<br />
      質量 3：品質良好。比大多數網絡視頻要好。<br />
      質量 4：高品質。看起來很棒。<br />
      質量 5：幾乎無損大型檔案。不建議使用此方法，除非您打算再次對該輸出進行編碼。</p>

    <p>根據經驗，將質量降低一個級別將使文件大小減少約40％。較高質量的編碼也比較低質量的編碼慢一些。</p>

    <p>請記住，使用質量設置時，輸出比特率會因文件而異，具體取決於視頻的類型。即使在相同的“質量"設置下，低複雜度視頻（如截屏）通常也會比高複雜度視頻（如電影）產生更低的比特率。</p>

    <pre class="line-numbers">
  <code class="language-json" translate="No">{
    "input": "s3://zencodertesting/test.mov",
    "outputs": [
      {
        "quality": 4
      }
    ]
  }</code></pre>

    <p><strong>也可以看看：</strong><a translate="No" href="#video_bitrate">視頻比特率</a></p>
  </section>
  <section class="bcls-section">
    <h2 id="video_bitrate" translate="No">視訊位元速率 (_L)</h2>
    <code translate="No">video_bitrate:Integer</code>

    <p><strong>API版本：</strong>V1，V2</p>

    <p><strong>上級：</strong><a translate="No" href="/encoding-settings/general/encoding-settings-job.html#outputs">輸出</a></p>

    <p><strong>有效值：</strong>一個正整數。最大100000</p>

    <p><strong>兼容的工作類型：</strong>全部</p>

    <p><strong>例子：</strong>1200</p>

    <p><strong>描述：</strong></p>

    <p>視頻的期望輸出比特率，以kbps表示。這會產生可預測的輸出位元率，但無法預測的品質。例如，在 640x480 下，500kbps 可能足以讓視頻博客看起來不錯，但動作電影在相同的位元率下看起來可能不好。同樣地，對於螢幕擷取來說，它可能太高，導致檔案大於它需要的大。</p>

    <p>如果可靠的比特率比可靠的質量更重要，請選擇video_bitrate。如果可靠的視覺質量更重要，請使用<a translate="No" href="#quality">質量</a>反而。</p>

    <aside class="bcls-aside bcls-aside--information">請注意，如果<code translate="No">quality</code>和<code translate="No">video_bitrate</code>被設置，<code translate="No">video_bitrate</code>設置將被忽略。</aside>
    <p>video_bitrate 使用兩遍可變比特率 (VBR) 編碼。 one_pass 編碼可以通過<a translate="No" href="#one_pass">one_pass</a>選項，儘管 one_pass VBR 編碼通常質量較差，並且只會導致很小的加速，因此不推薦這樣做。</p>

    <p>還請記住，太高或太低的比特率都不可用。默認情況下，如果您指定的比特率太低，我們將自動更正為可接受的比特率。使能夠<a translate="No" href="/encoding-settings/general/encoding-settings-general-output-settings.html#strict">嚴格的</a>如果您希望在這種情況下作業失敗而不是自動更正。</p>

    <pre class="line-numbers">
  <code class="language-json" translate="No">{
    "input": "s3://zencodertesting/test.mov",
    "outputs": [
      {
        "video_bitrate": 1200
      }
    ]
  }</code></pre>

    <p><strong>也可以看看：</strong><a translate="No" href="#quality">質量</a></p>
  </section>
  <section class="bcls-section">
    <h2 id="audio_quality" translate="No">音訊品質</h2>
    <code translate="No">audio_quality:Integer</code>

    <p><strong>API版本：</strong>V1，V2</p>

    <p><strong>上級：</strong><a translate="No" href="/encoding-settings/general/encoding-settings-job.html#outputs">輸出</a></p>

    <p><strong>默認：</strong>3</p>

    <p><strong>有效值：</strong>1-5</p>

    <p><strong>兼容的工作類型：</strong>全部</p>

    <p><strong>例子：</strong>4</p>

    <p><strong>描述：</strong></p>

    <p>所需的輸出音頻質量，從1到5。自動選擇一個<a translate="No" href="#audio_bitrate">音頻比特率</a>達到這個品質。</p>

    <aside class="bcls-aside bcls-aside--information">請注意，如果<code translate="No">audio_quality</code>和<code translate="No">audio_bitrate</code>被設置，<code translate="No">audio_bitrate</code>設置將被忽略。</aside>
    <p>Quality 1使用較低的音頻比特率，這會導致較低的聲音質量，但文件較小。質量5可以為較大的文件提供較高的音頻比特率，但質量較高。</p>

    <p>我們建議在大多數情況下使用3，在需要透明音質的情況下使用4-5。</p>

    <pre class="line-numbers">
  <code class="language-json" translate="No">{
    "input": "s3://zencodertesting/test.mov",
    "outputs": [
      {
        "audio_quality": 4
      }
    ]
  }</code></pre>

    <p><strong>也可以看看：</strong><a translate="No" href="#quality">質量</a>和<a translate="No" href="#audio_bitrate">音頻比特率</a></p>
  </section>
  <section class="bcls-section">
    <h2 id="audio_bitrate" translate="No">音訊位元速率 (_R)</h2>
    <code translate="No">audio_bitrate:Integer</code>

    <p><strong>API版本：</strong>V1，V2</p>

    <p><strong>上級：</strong><a translate="No" href="/encoding-settings/general/encoding-settings-job.html#outputs">輸出</a></p>

    <p><strong>有效值：</strong>一個正整數。</p>

    <p><strong>兼容的工作類型：</strong>全部</p>

    <p><strong>例子：</strong>96</p>

    <p><strong>描述：</strong></p>

    <p>輸出比特率設置，以Kbps為單位。對於2聲道輸出，這是總音頻比特率，而不是每個聲道的比特率，因此128kbps立體聲輸出以每個聲道64kbps進行編碼。每個通道低於48kbps時，質量可能會開始下降。</p>

    <aside class="bcls-aside bcls-aside--information">請注意，如果<code translate="No">audio_quality</code>和<code translate="No">audio_bitrate</code>被設置，<code translate="No">audio_bitrate</code>設置將被忽略。</aside>
    <p>請注意，如果您手動設置<a translate="No" href="/encoding-settings/general-audio-video/encoding-settings-audio.html#audio_sample_rate">音頻採樣率</a>，需要選擇兼容的audio_bitrate，否則可能編碼失敗。默認情況下，我們將自動更正這些故障並選擇有效的比特率/採樣率組合。啟用strict_mode以避免此自動更正。</p>

    <p>此設置不限制編碼視頻的峰值比特率。如果系統檢測到最終的編碼比特率將高於此值，則它將以該比特率作為目標平均比特率在內部重新啟動編碼。看<code translate="No">decoder_bitrate_cap</code>用於限制峰值比特率。</p>

    <p>對於AAC音頻，低於84的比特率將設置<a href="/encoding-settings/formats-codecs/encoding-settings-aac.html#max_aac_profile">AAC檔案到HE-AAC</a>。</p>

    <pre class="line-numbers">
  <code class="language-json" translate="No">{
    "input": "s3://zencodertesting/test.mov",
    "outputs": [
      {
        "audio_bitrate": 96
      }
    ]
  }</code></pre>

    <p><strong>也可以看看：</strong><a href="#audio-quality">音頻質量</a> , <a translate="No" href="/encoding-settings/general-audio-video/encoding-settings-audio.html#audio_sample_rate">音頻採樣率</a>， 和<a href="/encoding-settings/formats-codecs/encoding-settings-aac.html#max_aac_profile">max_aac_profile</a></p>
  </section>
  <section class="bcls-section">
    <h2 id="max_video_bitrate" translate="No">最大 (_Video) 位元速率</h2>
    <code translate="No">max_video_bitrate:Integer</code>

    <p><strong>API版本：</strong>V1，V2</p>

    <p><strong>上級：</strong><a translate="No" href="/encoding-settings/general/encoding-settings-job.html#outputs">輸出</a></p>

    <p><strong>有效值：</strong>一個正整數。最大100000</p>

    <p><strong>兼容的工作類型：</strong>全部</p>

    <p><strong>例子：</strong>1500</p>

    <p><strong>描述：</strong></p>

    <p>影片的最大平均位元率。覆寫品質和 ideo_bitrate 設定，以確保位元速率不會超過提供的數字。</p>

    <p>max_video_bitrate 在使用移動設備編碼時特別有用<a translate="No" href="#quality">質量</a>設置，自動選擇比特率。行動裝置有時會有固定的位元速率限制；例如，iPhone 3GS 的位元速率限制為 1500 kbps。</p>

    <p><strong>筆記：</strong>此選項與VP6或HEVC編解碼器不兼容。</p>

    <pre class="line-numbers">
  <code class="language-json" translate="No">{
    "input": "s3://zencodertesting/test.mov",
    "outputs": [
      {
        "max_video_bitrate": 1500
      }
    ]
  }</code></pre>
  </section>
  <section class="bcls-section">
    <h2 id="speed" translate="No">速度</h2>
    <code translate="No">speed:Integer</code>

    <p><strong>API版本：</strong>V1，V2</p>

    <p><strong>上級：</strong><a translate="No" href="/encoding-settings/general/encoding-settings-job.html#outputs">輸出</a></p>

    <p><strong>默認：</strong>3</p>

    <p><strong>有效值：</strong>1-5</p>

    <p><strong>兼容的工作類型：</strong>伏特</p>

    <p><strong>例子：</strong>4</p>

    <p><strong>描述：</strong></p>

    <p>目標轉碼速度。較慢的轉檔可以進行更進階的檔案壓縮，而跳過一些進階壓縮功能可以加快轉碼速度。有效值為 1-5。</p>

    <p><em>注意：目前，僅H.264輸出具有五個速度級別。對於VP6內容，1-2是較慢的模式，而3-5是較快的模式。其他視頻編解碼器根本不支持此設置。</em></p>

    <pre class="line-numbers">
  <code class="language-json" translate="No">{
    "input": "s3://zencodertesting/test.mov",
    "outputs": [
      {
        "speed": 4
      }
    ]
  }</code></pre>
  </section>
  <section class="bcls-section">
    <h2 id="decoder_bitrate_cap" translate="No">解碼器 _ 位元拉蓋</h2>
    <code translate="No">decoder_bitrate_cap:Integer</code>

    <p><strong>API版本：</strong>V1，V2</p>

    <p><strong>上級：</strong><a translate="No" href="/encoding-settings/general/encoding-settings-job.html#outputs">輸出</a></p>

    <p><strong>有效值：</strong>一個正整數。最大100000</p>

    <p><strong>兼容的工作類型：</strong>全部</p>

    <p><strong>例子：</strong>800</p>

    <p><strong>描述：</strong></p>

    <p>通過緩衝器饋送到解碼器的最大比特率。此設定通常僅用於串流 (RTMP、HLS 或廣播視訊)。</p>

    <p>只有在您瞭解此設定的含意時才使用此設定，因為它會降低視訊品質。</p>

    <p><em>對於現場輸出，這默認為比現場輸出高 15% <a translate="No" href="#video_bitrate">視頻比特率</a> , 如果指定了 video_bitrate。</em></p>

    <pre class="line-numbers">
  <code class="language-json" translate="No">{
    "input": "s3://zencodertesting/test.mov",
    "outputs": [
      {
        "decoder_bitrate_cap": 800
      }
    ]
  }</code></pre>

    <p><strong>也可以看看：</strong><a href="#decoder_buffer_size"> coder_buffer_size</a></p>
  </section>
  <section class="bcls-section">
    <h2 id="decoder_buffer_size" translate="No">解碼器緩衝區大小</h2>
    <code translate="No">decoder_buffer_size:Integer</code>

    <p><strong>API版本：</strong>V1，V2</p>

    <p><strong>上級：</strong><a translate="No" href="/encoding-settings/general/encoding-settings-job.html#outputs">輸出</a></p>

    <p><strong>有效值：</strong>一個正整數。最大100000</p>

    <p><strong>兼容的工作類型：</strong>全部</p>

    <p><strong>例子：</strong>800</p>

    <p><strong>描述：</strong></p>

    <p>使用 bitrate_cap 時提供給解碼器的緩衝區大小，以 kbps 表示。由比特拉特 _帽除以緩衝區的大小（以秒為單位）; 因此，如果將比特拉特 _CAP 設置為 1000 和緩衝區大小為 1000，緩衝區實際上是 1.0 秒。如果位元最大值為 500，而緩衝區大小為 1000，則緩衝區為 2.0 秒。</p>

    <p>只有在您瞭解此設定的含意時才使用此設定，因為它會降低視訊品質。這通常應該只用於串流 (或裝置播放)。</p>

    <p><em>對於實時輸出，此默認值是decoder_bitrate_cap的300％，創建的緩衝持續時間為3秒。但是，如果還設置了segment_seconds，則將減小默認的coder_buffer_size，以使有效緩衝區持續時間為段持續時間的一半。</em></p>

    <pre class="line-numbers">
  <code class="language-json" translate="No">{
    "input": "s3://zencodertesting/test.mov",
    "outputs": [
      {
        "decoder_buffer_size": 800
      }
    ]
  }</code></pre>

    <p><strong>也可以看看：</strong><a href="#decoder_bitrate_cap"> coder_bitrate_cap</a></p>
  </section>
  <section class="bcls-section">
    <h2 id="one_pass" translate="No">一個通路 (_L)</h2>
    <code translate="No">one_pass:Boolean</code>

    <p><strong>API版本：</strong>V1，V2</p>

    <p><strong>上級：</strong><a translate="No" href="/encoding-settings/general/encoding-settings-job.html#outputs">輸出</a></p>

    <p><strong>默認：</strong><code translate="No">false</code></p>

    <p><strong>有效值：</strong><code translate="No">true</code>或者<code translate="No">false</code></p>

    <p><strong>兼容的工作類型：</strong>伏特</p>

    <p><strong>例子：</strong><code translate="No">true</code></p>

    <p><strong>描述：</strong></p>

    <p>默認情況下，每當編碼到目標時，我們將使用兩遍編碼<a translate="No" href="#video_bitrate">視頻比特率</a> , 和 one_pass 編碼時執行常量<a translate="No" href="#quality">質量</a>編碼（不會從第二遍中受益）。指定特定的video_bitrate時，此選項將強制one_pass編碼。</p>

    <p>我們強烈建議不要強制使用one_pass編碼。兩遍編碼的第一遍比第二遍快，因此從兩遍編碼到單遍編碼只會導致25％的編碼加速，而不是50％的編碼速度。而且兩次通過編碼看起來比一次通過編碼要好得多。</p>

    <pre class="line-numbers">
  <code class="language-json" translate="No">{
    "input": "s3://zencodertesting/test.mov",
    "outputs": [
      {
        "one_pass": true
      }
    ]
  }</code></pre>
  </section>
  <section class="bcls-section">
    <h2 id="audio_constant_bitrate" translate="No">音訊常數位元速率</h2>
    <code translate="No">audio_constant_bitrate:Boolean</code>

    <p><strong>API版本：</strong>V1，V2</p>

    <p><strong>上級：</strong><a translate="No" href="/encoding-settings/general/encoding-settings-job.html#outputs">輸出</a></p>

    <p><strong>默認：</strong><code translate="No">false</code></p>

    <p><strong>有效值：</strong><code translate="No">true</code>或者<code translate="No">false</code></p>

    <p><strong>兼容的工作類型：</strong>全部</p>

    <p><strong>例子：</strong><code translate="No">true</code></p>

    <p><strong>描述：</strong></p>

    <p>盡可能為音頻啟用恆定比特率 (CBR) 模式。<a translate="No" href="/encoding-settings/general-audio-video/encoding-settings-audio.html#audio_sample_rate">音頻採樣率</a>可以調整兼容性。</p>

    <p><a translate="No" href="#audio_bitrate">音頻比特率</a>使用此選項時還必須指定設置。</p>

    <p>兼容AAC和MP3 <a href="/encoding-settings/formats-codecs/encoding-settings-format-and-codecs.html#audio_codec">音頻編解碼器</a>。與VP6配合使用時不兼容<a href="/encoding-settings/formats-codecs/encoding-settings-format-and-codecs.html#video_codec"><code translate="No">video_codec</code></a>）對於MP3音頻，只有某些比特率與此選項兼容：8、16、24、32、40、48、56、64、80、96、112、128、160、192、224、256、320。</p>

    <p><em>注意：AAC編解碼器沒有定義固定的CBR模式，因此在短時間內比特率仍然會有很小的變化。大多數軟件仍會將這些編碼報告為VBR。</em></p>

    <pre class="line-numbers">
  <code class="language-json" translate="No">{
    "input": "s3://zencodertesting/test.mov",
    "outputs": [
      {
        "audio_constant_bitrate": true
      }
    ]
  }</code></pre>

    <p><strong>也可以看看：</strong><a translate="No" href="#audio_bitrate">音頻比特率</a></p>
  </section>
</article>